%!PS-Adobe-2.0
%%BoundingBox: 0 0 100 120

% Mux Logic 1

/linewidth 0.4 def
/height1 54 def
/height2 36 def
/width 18 def
/x1 35 def
/y1 90 def
/x2 {
    x1 40 add
} def
/y2 {
    y1 height1 2 div sub height1 3 div add
} def
/col1 10 def        % offset values for VDD and GND connections
/col2 20 def

% Inputs: linewidth xul, yul, xur, yur, xlr, ylr, xll, yll
% Outputs: None
/drawbox {
    newpath
    moveto
    lineto
    lineto
    lineto
    closepath
    setlinewidth
    stroke
} def

/fontit10 {
    /Times-Italic findfont
    10 scalefont setfont
} def

/fontrm8 {
    /Times-Roman findfont
    8 scalefont setfont
} def

/fontit8 {
    /Times-Italic findfont
    8 scalefont setfont
} def

% Mux 1
linewidth
x1 y1
x1 width add y1 height1 2 div sub height2 2 div add  % short side line
x1 width add y1 height1 2 div sub height2 2 div sub  % short side line
x1 y1 height1 sub
drawbox

% Mux 2
linewidth
x2 y2
x2 width add y2 height1 2 div sub height2 2 div add  % short side line
x2 width add y2 height1 2 div sub height2 2 div sub  % short side line
x2 y2 height1 sub
drawbox

% Mux 1 to Mux 2 connector
x1 width add y1 height1 2 div sub
moveto
x2 y2 height1 3 div sub
lineto
linewidth setlinewidth stroke


% Mux 2 Y output line and char Y
fontit10
x2 width add
y2 height1 2 div sub
moveto
x2 width col2 add add
y2 height1 2 div sub
lineto
linewidth setlinewidth stroke
x2 width col2 add add 5 add
y2 height1 2 div sub 3 sub
moveto (Y) show

% Mux 1 GND symbol
newpath
x1 col2 sub
y1 height1 10 add sub
moveto
x1 col2 7 sub sub
y1 height1 10 add sub
lineto
x1 col2 sub
y1 height1 20 add sub
lineto
x1 col2 7 add sub
y1 height1 10 add sub
lineto
closepath
linewidth setlinewidth
stroke

% Mux 2 GND symbol
x2 col1 sub
y2 height1 10 add sub
moveto
x2 col1 7 sub sub
y2 height1 10 add sub
lineto
x2 col1 sub
y2 height1 20 add sub
lineto
x2 col1 7 add sub
y2 height1 10 add sub
lineto
closepath
linewidth setlinewidth
stroke

% B,C select
fontit10
y1
height1 height2 sub 2 div sub % find sweet spot for select line A
5 add dup dup                %
x1 width 2 div add exch
moveto
20 add
x1 width 2 div add exch
lineto
linewidth setlinewidth
stroke
25 add
x1 width 2 div add 6 sub exch
moveto (B,C) show

% Mux 2 select
fontit10
y2
height1 height2 sub 2 div sub
5 add dup dup
x2 width 2 div add exch
moveto
20 add
x2 width 2 div add exch
lineto
linewidth setlinewidth
stroke
25 add
x2 width 2 div add 3 sub exch
moveto (A) show

% Mux 1 address bits
fontrm8
x1 3 add
y1 height1 5 div sub 3 sub
moveto (00) show
x1 3 add
y1 height1 5 div 2 mul sub 3 sub
moveto (01) show
x1 3 add
y1 height1 5 div 3 mul sub 3 sub
moveto (10) show
x1 3 add
y1 height1 5 div 4 mul sub 3 sub
moveto (11) show

% Mux 2 address bits
fontrm8
x2 3 add
y2 height1 3 div sub 2 sub
moveto (0) show
x2 3 add
y2 height1 3 div 2 mul sub 2 sub
moveto (1) show

% Mux 1 connections
% 00
x1 col2 sub y1 height1 5 div sub 1 sub dup
x1 exch
moveto lineto linewidth setlinewidth stroke

% 01
x1 col2 sub y1 height1 5 div 2 mul sub 1 sub dup
x1 exch
moveto lineto stroke

% Mux 2 connections
x2 col1 sub y2 height1 3 div 2 mul sub dup
x2 exch
moveto lineto linewidth setlinewidth stroke

% GND connection
x1 col2 sub y1 height1 5 div sub 1 sub
moveto
x1 col2 sub y1 height1 10 add sub
lineto stroke

x2 col1 sub y2 height1 3 div 2 mul sub
moveto
x2 col1 sub y2 height1 10 add sub
lineto stroke

% 10
x1 col1 sub y1 height1 5 div 3 mul sub 1 sub dup
x1 exch
moveto lineto stroke

% 11
x1 col1 sub y1 height1 5 div 4 mul sub 1 sub dup
x1 exch
moveto lineto stroke

% VDD connections
x1 col1 sub y1 height1 5 div 4 mul sub 1 sub
moveto
x1 col1 sub y1 10 add
lineto stroke

% VDD symbol
x1 col1 7 add sub y1 10 add
moveto
x1 col1 7 sub sub y1 10 add
lineto stroke

